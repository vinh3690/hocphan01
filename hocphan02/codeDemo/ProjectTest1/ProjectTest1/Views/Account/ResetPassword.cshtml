@model ProjectTest1.ViewModels.ResetPasswordViewModel

@{
    ViewData["Title"] = "Đặt lại mật khẩu";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<div class="container mt-5 d-flex justify-content-center">
    <div class="card p-4 shadow" style="max-width: 500px; width: 100%; border-radius: 20px;">
        <h3 class="text-center fw-bold text-dark mb-3">🔑 Đặt lại mật khẩu</h3>
        @if (!ViewData.ModelState.IsValid)
        {
            <div class="alert alert-danger text-center">
                @foreach (var error in ViewData.ModelState.Values.SelectMany(v => v.Errors))
                {
                    <div>@error.ErrorMessage</div>
                }
            </div>
        }
        @using (Html.BeginForm("ResetPassword", "Account", FormMethod.Post))
        {
            @Html.AntiForgeryToken()

            @Html.HiddenFor(m => m.Email)
            @Html.HiddenFor(m => m.Token)

            <div class="mb-3">
                <label class="form-label fw-semibold">Mật khẩu mới</label>
                @Html.PasswordFor(m => m.NewPassword, new { @class = "form-control", placeholder = "Nhập mật khẩu mới" })
                @Html.ValidationMessageFor(m => m.NewPassword, "", new { @class = "text-danger small" })
            </div>

            <div class="mb-3">
                <label class="form-label fw-semibold">Xác nhận mật khẩu</label>
                @Html.PasswordFor(m => m.ConfirmPassword, new { @class = "form-control", placeholder = "Nhập lại mật khẩu" })
                
            </div>

            <button type="submit" class="btn btn-success w-100 fw-semibold">Đặt lại mật khẩu</button>
        }
    </div>
</div>
@section Scripts {
    <script src="~/js/Account.js"></script>

    <script>
        AppAccount.successReset('@ViewBag.SuccessMessage');

    </script>
}
@model ProjectTest1.ViewModels.CategoryViewModel

<div class="modal fade" id="editModal" tabindex="-1" aria-labelledby="editModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="editModalLabel">Chỉnh sửa danh mục</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Đóng"></button>
      </div>
      <div class="modal-body">
        <form id="editForm">
          @Html.AntiForgeryToken()
          <input type="hidden" asp-for="CategoryId" />

          <div class="form-group mb-3">
            <label asp-for="CategoryName" class="form-label">Tên danh mục</label>
            <input asp-for="CategoryName" class="form-control" />
          </div>

          <div class="row">
            <div class="col-md-6 mb-3">
              <label class="form-label">Danh mục cấp 1</label>
              <select id="ParentLevel1" class="form-control">
                <option value="">-- Chọn cấp 1 --</option>
                                @foreach (var item in Model.ParentCategoryList)
                                {
                                    <option value="@item.Value" selected="@(item.Value == Model.ParentLevel1Id?.ToString() ? "selected" : null)">@item.Text</option>
                                }

              </select>
            </div>

            <div class="col-md-6 mb-3">
              <label class="form-label">Danh mục cấp 2</label>
              <select id="ParentLevel2" class="form-control" @(Model.ParentLevel2List == null || !Model.ParentLevel2List.Any() ? "disabled" : "")>
                <option value="">-- Chọn cấp 2 --</option>
                @if (Model.ParentLevel2List != null)
                {
                    foreach (var item in Model.ParentLevel2List)
                    {
                                        <option value="@item.Value" selected="@(item.Value == Model.ParentLevel2Id?.ToString() ? "selected" : null)">@item.Text</option>

                    }
                }
              </select>
            </div>
                        <input type="hidden" id="ParentId" name="ParentId" />
          </div>

          <div class="form-group mb-3 form-check">
            <input asp-for="IsActive" class="form-check-input" id="IsActive" />
            <label class="form-check-label" for="IsActive">Kích hoạt</label>
          </div>

          <button type="submit" class="btn btn-primary">Lưu</button>
        </form>
      </div>
    </div>
  </div>
</div>

@section Scripts {
    <script src="~/js/Category.js"></script>
}
